"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[397],{98397:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(67294),r=a(45697),l=a.n(r),o=a(4965),s=a(7395),i=a(3023),c=a(75358),h=a(86108),u=a(99307),d=a(65710),m=a(65295),p=a(71508),y=a(2658),b=a(6867),g=a(32301),E=a(33797),f=a(42643),k=a(41095),w=a(57976);function M(e){return(0,d.Z)(new Date(1e3*e),"MMMM d, p yyyy")}function C(e,t,a){let n=Number.POSITIVE_INFINITY;return e.forEach((e=>{n>e[t]&&(n=e[t])})),Math.round(n-n*a)}const S=["1 Week","1 Month","6 Months"];function Z(e){const{color:t,data:a,title:r,classes:l,theme:d,height:k}=e,[Z,v]=(0,n.useState)(null),[R,x]=(0,n.useState)("1 Month"),I=(0,n.useCallback)((e=>{v(e.currentTarget)}),[v]),T=(0,n.useCallback)((e=>[e,r]),[r]),q=(0,n.useCallback)((()=>{switch(R){case"1 Week":return"Last week";case"1 Month":return"Last month";case"6 Months":return"Last 6 months";default:throw new Error("No branch selected in switch-statement")}}),[R]),N=(0,n.useCallback)((()=>{let e;switch(R){case"1 Week":e=604800;break;case"1 Month":e=2678400;break;case"6 Months":e=16070400;break;default:throw new Error("No branch selected in switch-statement")}const t=new Date/1e3-e,n=[];for(let e=0;e<a.length;e+=1)t<a[e].timestamp&&n.unshift(a[e]);return n}),[a,R]),W=(0,n.useCallback)((()=>{v(null)}),[v]),F=(0,n.useCallback)((e=>{x(e),W()}),[x,W]),L=Boolean(Z);return n.createElement(m.Z,null,n.createElement(p.Z,{pt:2,px:2,pb:4},n.createElement(p.Z,{display:"flex",justifyContent:"space-between"},n.createElement("div",null,n.createElement(y.Z,{variant:"subtitle1"},r),n.createElement(y.Z,{variant:"body2",color:"textSecondary"},q())),n.createElement("div",null,n.createElement(b.Z,{"aria-label":"More","aria-owns":L?"long-menu":void 0,"aria-haspopup":"true",onClick:I,size:"large"},n.createElement(w.Z,null)),n.createElement(g.Z,{id:"long-menu",anchorEl:Z,open:L,onClose:W,PaperProps:{style:{maxHeight:216,width:200}},disableScrollLock:!0},S.map((e=>n.createElement(E.Z,{key:e,selected:e===R,onClick:()=>{F(e)},name:e},e))))))),n.createElement(f.Z,null,n.createElement(p.Z,{className:l.cardContentInner,height:k},n.createElement(o.h,{width:"100%",height:"100%"},n.createElement(s.T,{data:N(),type:"number"},n.createElement(i.K,{dataKey:"timestamp",type:"number",domain:["dataMin","dataMax"],hide:!0}),n.createElement(c.B,{domain:[C(a,"value",.05),"dataMax"],hide:!0}),n.createElement(h.u,{type:"monotone",dataKey:"value",stroke:t,fill:t}),n.createElement(u.u,{labelFormatter:M,formatter:T,cursor:!1,contentStyle:{border:"none",padding:d.spacing(1),borderRadius:d.shape.borderRadius,boxShadow:d.shadows[1]},labelStyle:d.typography.body1,itemStyle:{fontSize:d.typography.body1.fontSize,letterSpacing:d.typography.body1.letterSpacing,fontFamily:d.typography.body1.fontFamily,lineHeight:d.typography.body1.lineHeight,fontWeight:d.typography.body1.fontWeight}}))))))}Z.propTypes={color:l().string.isRequired,data:l().array.isRequired,title:l().string.isRequired,classes:l().object.isRequired,theme:l().object.isRequired,height:l().string.isRequired};const v=(0,k.Z)((e=>({cardContentInner:{marginTop:e.spacing(-4)}})),{withTheme:!0})(Z)}}]);